import{o as e,c as s,d as n}from"./app.b84b895a.js";const o='{"title":"Configuring Vite","description":"","frontmatter":{},"headers":[{"level":2,"title":"Config File","slug":"config-file"},{"level":3,"title":"Config File Resolving","slug":"config-file-resolving"},{"level":3,"title":"Config Intellisense","slug":"config-intellisense"},{"level":3,"title":"Conditional Config","slug":"conditional-config"},{"level":3,"title":"Async Config","slug":"async-config"},{"level":2,"title":"Shared Options","slug":"shared-options"},{"level":3,"title":"root","slug":"root"},{"level":3,"title":"base","slug":"base"},{"level":3,"title":"mode","slug":"mode"},{"level":3,"title":"define","slug":"define"},{"level":3,"title":"plugins","slug":"plugins"},{"level":3,"title":"publicDir","slug":"publicdir"},{"level":3,"title":"cacheDir","slug":"cachedir"},{"level":3,"title":"resolve.alias","slug":"resolve-alias"},{"level":3,"title":"resolve.dedupe","slug":"resolve-dedupe"},{"level":3,"title":"resolve.conditions","slug":"resolve-conditions"},{"level":3,"title":"resolve.mainFields","slug":"resolve-mainfields"},{"level":3,"title":"resolve.extensions","slug":"resolve-extensions"},{"level":3,"title":"css.modules","slug":"css-modules"},{"level":3,"title":"css.postcss","slug":"css-postcss"},{"level":3,"title":"css.preprocessorOptions","slug":"css-preprocessoroptions"},{"level":3,"title":"json.namedExports","slug":"json-namedexports"},{"level":3,"title":"json.stringify","slug":"json-stringify"},{"level":3,"title":"esbuild","slug":"esbuild"},{"level":3,"title":"assetsInclude","slug":"assetsinclude"},{"level":3,"title":"logLevel","slug":"loglevel"},{"level":3,"title":"clearScreen","slug":"clearscreen"},{"level":3,"title":"envDir","slug":"envdir"},{"level":2,"title":"Server Options","slug":"server-options"},{"level":3,"title":"server.host","slug":"server-host"},{"level":3,"title":"server.port","slug":"server-port"},{"level":3,"title":"server.strictPort","slug":"server-strictport"},{"level":3,"title":"server.https","slug":"server-https"},{"level":3,"title":"server.open","slug":"server-open"},{"level":3,"title":"server.proxy","slug":"server-proxy"},{"level":3,"title":"server.cors","slug":"server-cors"},{"level":3,"title":"server.force","slug":"server-force"},{"level":3,"title":"server.hmr","slug":"server-hmr"},{"level":3,"title":"server.watch","slug":"server-watch"},{"level":3,"title":"server.middlewareMode","slug":"server-middlewaremode"},{"level":3,"title":"server.fs.strict","slug":"server-fs-strict"},{"level":3,"title":"server.fs.allow","slug":"server-fs-allow"},{"level":2,"title":"Build Options","slug":"build-options"},{"level":3,"title":"build.target","slug":"build-target"},{"level":3,"title":"build.polyfillDynamicImport","slug":"build-polyfilldynamicimport"},{"level":3,"title":"build.outDir","slug":"build-outdir"},{"level":3,"title":"build.assetsDir","slug":"build-assetsdir"},{"level":3,"title":"build.assetsInlineLimit","slug":"build-assetsinlinelimit"},{"level":3,"title":"build.cssCodeSplit","slug":"build-csscodesplit"},{"level":3,"title":"build.sourcemap","slug":"build-sourcemap"},{"level":3,"title":"build.rollupOptions","slug":"build-rollupoptions"},{"level":3,"title":"build.commonjsOptions","slug":"build-commonjsoptions"},{"level":3,"title":"build.dynamicImportVarsOptions","slug":"build-dynamicimportvarsoptions"},{"level":3,"title":"build.lib","slug":"build-lib"},{"level":3,"title":"build.manifest","slug":"build-manifest"},{"level":3,"title":"build.minify","slug":"build-minify"},{"level":3,"title":"build.terserOptions","slug":"build-terseroptions"},{"level":3,"title":"build.cleanCssOptions","slug":"build-cleancssoptions"},{"level":3,"title":"build.write","slug":"build-write"},{"level":3,"title":"build.emptyOutDir","slug":"build-emptyoutdir"},{"level":3,"title":"build.brotliSize","slug":"build-brotlisize"},{"level":3,"title":"build.chunkSizeWarningLimit","slug":"build-chunksizewarninglimit"},{"level":3,"title":"build.watch","slug":"build-watch"},{"level":2,"title":"Dep Optimization Options","slug":"dep-optimization-options"},{"level":3,"title":"optimizeDeps.entries","slug":"optimizedeps-entries"},{"level":3,"title":"optimizeDeps.exclude","slug":"optimizedeps-exclude"},{"level":3,"title":"optimizeDeps.include","slug":"optimizedeps-include"},{"level":3,"title":"optimizeDeps.keepNames","slug":"optimizedeps-keepnames"},{"level":2,"title":"SSR Options","slug":"ssr-options"},{"level":3,"title":"ssr.external","slug":"ssr-external"},{"level":3,"title":"ssr.noExternal","slug":"ssr-noexternal"},{"level":3,"title":"ssr.target","slug":"ssr-target"}],"relativePath":"config/index.md","lastUpdated":1625605004032}',a={},t=n('<h1 id="configuring-vite"><a class="header-anchor" href="#configuring-vite" aria-hidden="true">#</a>Configuring Vite</h1><h2 id="config-file"><a class="header-anchor" href="#config-file" aria-hidden="true">#</a>Config File</h2><h3 id="config-file-resolving"><a class="header-anchor" href="#config-file-resolving" aria-hidden="true">#</a>Config File Resolving</h3><p>When running <code>vite</code> from the command line, Vite will automatically try to resolve a config file named <code>vite.config.js</code> inside <a href="/guide/#index-html-and-project-root">project root</a>.</p><p>The most basic config file looks like this:</p><div class="language-js"><pre><code><span class="token comment">// vite.config.js</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n  <span class="token comment">// config options</span>\n<span class="token punctuation">}</span>\n</code></pre></div><p>Note Vite supports using ES modules syntax in the config file even if the project is not using native Node ESM via <code>type: &quot;module&quot;</code>. In this case the config file is auto pre-processed before load.</p><p>You can also explicitly specify a config file to use with the <code>--config</code> CLI option (resolved relative to <code>cwd</code>):</p><div class="language-bash"><pre><code>vite --config my-config.js\n</code></pre></div><h3 id="config-intellisense"><a class="header-anchor" href="#config-intellisense" aria-hidden="true">#</a>Config Intellisense</h3><p>Since Vite ships with TypeScript typings, you can leverage your IDE&#39;s intellisense with jsdoc type hints:</p><div class="language-js"><pre><code><span class="token comment">/**\n * @type {import(&#39;vite&#39;).UserConfig}\n */</span>\n<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token comment">// ...</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> config\n</code></pre></div><p>Alternatively you can use the <code>defineConfig</code> helper which should provide intellisense without the need for jsdoc annotations:</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite&#39;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  <span class="token comment">// ...</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre></div><p>Vite also directly supports TS config files. You can use <code>vite.config.ts</code> with the <code>defineConfig</code> helper as well.</p><h3 id="conditional-config"><a class="header-anchor" href="#conditional-config" aria-hidden="true">#</a>Conditional Config</h3><p>If the config needs to conditional determine options based on the command (<code>serve</code> or <code>build</code>) or the <a href="/guide/env-and-mode.html">mode</a> being used, it can export a function instead:</p><div class="language-js"><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> command<span class="token punctuation">,</span> mode <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">===</span> <span class="token string">&#39;serve&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">{</span>\n      <span class="token comment">// serve specific config</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">{</span>\n      <span class="token comment">// build specific config</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre></div><h3 id="async-config"><a class="header-anchor" href="#async-config" aria-hidden="true">#</a>Async Config</h3><p>If the config needs to call async function, it can export a async function instead:</p><div class="language-js"><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> command<span class="token punctuation">,</span> mode <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">asyncFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n  <span class="token keyword">return</span> <span class="token punctuation">{</span>\n    <span class="token comment">// build specific config</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre></div><h2 id="shared-options"><a class="header-anchor" href="#shared-options" aria-hidden="true">#</a>Shared Options</h2><h3 id="root"><a class="header-anchor" href="#root" aria-hidden="true">#</a>root</h3><ul><li><p><strong>Type:</strong> <code>string</code></p></li><li><p><strong>Default:</strong> <code>process.cwd()</code></p><p>Project root directory (where <code>index.html</code> is located). Can be an absolute path, or a path relative from the location of the config file itself.</p><p>See <a href="/guide/#index-html-and-project-root">Project Root</a> for more details.</p></li></ul><h3 id="base"><a class="header-anchor" href="#base" aria-hidden="true">#</a>base</h3><ul><li><p><strong>Type:</strong> <code>string</code></p></li><li><p><strong>Default:</strong> <code>/</code></p><p>Base public path when served in development or production. Valid values include:</p><ul><li>Absolute URL pathname, e.g. <code>/foo/</code></li><li>Full URL, e.g. <code>https://foo.com/</code></li><li>Empty string or <code>./</code> (for embedded deployment)</li></ul><p>See <a href="/guide/build.html#public-base-path">Public Base Path</a> for more details.</p></li></ul><h3 id="mode"><a class="header-anchor" href="#mode" aria-hidden="true">#</a>mode</h3><ul><li><p><strong>Type:</strong> <code>string</code></p></li><li><p><strong>Default:</strong> <code>&#39;development&#39;</code> for serve, <code>&#39;production&#39;</code> for build</p><p>Specifying this in config will override the default mode for <strong>both serve and build</strong>. This value can also be overridden via the command line <code>--mode</code> option.</p><p>See <a href="/guide/env-and-mode.html">Env Variables and Modes</a> for more details.</p></li></ul><h3 id="define"><a class="header-anchor" href="#define" aria-hidden="true">#</a>define</h3><ul><li><p><strong>Type:</strong> <code>Record&lt;string, string&gt;</code></p><p>Define global constant replacements. Entries will be defined as globals during dev and statically replaced during build.</p><ul><li><p>Starting from <code>2.0.0-beta.70</code>, string values will be used as raw expressions, so if defining a string constant, it needs to be explicitly quoted (e.g. with <code>JSON.stringify</code>).</p></li><li><p>Replacements are performed only when the match is surrounded by word boundaries (<code>\\b</code>).</p></li></ul><p>Because it&#39;s implemented as straightforward text replacements without any syntax analyzation, we recommend using <code>define</code> for CONSTANTS only.</p><p>For example, <code>process.<wbr>env.FOO</code> and <code>__APP_VERSION__</code> are good fits. But <code>process</code> or <code>global</code> should not be put into this option. Variables can be shimmed or polyfilled instead.</p></li></ul><h3 id="plugins"><a class="header-anchor" href="#plugins" aria-hidden="true">#</a>plugins</h3><ul><li><p><strong>Type:</strong> <code> (Plugin | Plugin[])[]</code></p><p>Array of plugins to use. Falsy plugins are ignored and arrays of plugins are flattened. See <a href="/guide/api-plugin.html">Plugin API</a> for more details on Vite plugins.</p></li></ul><h3 id="publicdir"><a class="header-anchor" href="#publicdir" aria-hidden="true">#</a>publicDir</h3><ul><li><p><strong>Type:</strong> <code>string</code></p></li><li><p><strong>Default:</strong> <code>&quot;public&quot;</code></p><p>Directory to serve as plain static assets. Files in this directory are served at <code>/</code> during dev and copied to the root of <code>outDir</code> during build, and are always served or copied as-is without transform. The value can be either an absolute file system path or a path relative to project root.</p><p>See <a href="/guide/assets.html#the-public-directory">The <code>public</code> Directory</a> for more details.</p></li></ul><h3 id="cachedir"><a class="header-anchor" href="#cachedir" aria-hidden="true">#</a>cacheDir</h3><ul><li><p><strong>Type:</strong> <code>string</code></p></li><li><p><strong>Default:</strong> <code>&quot;node_modules/.vite&quot;</code></p><p>Directory to save cache files. Files in this directory are pre-bundled deps or some other cache files that generated by vite, which can improve the performance. You can use <code>--force</code> flag or manually delete the directory to regenerate the cache files. The value can be either an absolute file system path or a path relative to project root.</p></li></ul><h3 id="resolve-alias"><a class="header-anchor" href="#resolve-alias" aria-hidden="true">#</a>resolve.alias</h3><ul><li><p><strong>Type:</strong><code>Record&lt;string, string&gt; | Array&lt;{ find: string | RegExp, replacement: string }&gt;</code></p><p>Will be passed to <code>@rollup/plugin-alias</code> as its <a href="https://github.com/rollup/plugins/tree/master/packages/alias#entries" target="_blank" rel="noopener noreferrer">entries option</a>. Can either be an object, or an array of <code>{ find, replacement }</code> pairs.</p><p>When aliasing to file system paths, always use absolute paths. Relative alias values will be used as-is and will not be resolved into file system paths.</p><p>More advanced custom resolution can be achieved through <a href="/guide/api-plugin.html">plugins</a>.</p></li></ul><h3 id="resolve-dedupe"><a class="header-anchor" href="#resolve-dedupe" aria-hidden="true">#</a>resolve.dedupe</h3><ul><li><p><strong>Type:</strong> <code>string[]</code></p><p>If you have duplicated copies of the same dependency in your app (likely due to hoisting or linked packages in monorepos), use this option to force Vite to always resolve listed dependencies to the same copy (from project root).</p></li></ul><h3 id="resolve-conditions"><a class="header-anchor" href="#resolve-conditions" aria-hidden="true">#</a>resolve.conditions</h3><ul><li><p><strong>Type:</strong> <code>string[]</code></p><p>Additional allowed conditions when resolving <a href="https://nodejs.org/api/packages.html#packages_conditional_exports" target="_blank" rel="noopener noreferrer">Conditional Exports</a> from a package.</p><p>A package with conditional exports may have the following <code>exports</code> field in its <code>package.json</code>:</p><div class="language-json"><pre><code><span class="token punctuation">{</span>\n  <span class="token property">&quot;exports&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token property">&quot;.&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n      <span class="token property">&quot;import&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./index.esm.js&quot;</span><span class="token punctuation">,</span>\n      <span class="token property">&quot;require&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./index.cjs.js&quot;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre></div><p>Here, <code>import</code> and <code>require</code> are &quot;conditions&quot;. Conditions can be nested and should be specified from most specific to least specific.</p><p>Vite has a list of &quot;allowed conditions&quot; and will match the first condition that is in the allowed list. The default allowed conditions are: <code>import</code>, <code>module</code>, <code>browser</code>, <code>default</code>, and <code>production/development</code> based on current mode. The <code>resolve.conditions</code> config option allows specifying additional allowed conditions.</p></li></ul><h3 id="resolve-mainfields"><a class="header-anchor" href="#resolve-mainfields" aria-hidden="true">#</a>resolve.mainFields</h3><ul><li><p><strong>Type:</strong> <code>string[]</code></p></li><li><p><strong>Default:</strong> <code>[&#39;module&#39;, &#39;jsnext:main&#39;, &#39;jsnext&#39;]</code></p><p>List of fields in <code>package.json</code> to try when resolving a package&#39;s entry point. Note this takes lower precedence than conditional exports resolved from the <code>exports</code> field: if an entry point is successfully resolved from <code>exports</code>, the main field will be ignored.</p></li></ul><h3 id="resolve-extensions"><a class="header-anchor" href="#resolve-extensions" aria-hidden="true">#</a>resolve.extensions</h3><ul><li><p><strong>Type:</strong> <code>string[]</code></p></li><li><p><strong>Default:</strong> <code>[&#39;.mjs&#39;, &#39;.js&#39;, &#39;.ts&#39;, &#39;.jsx&#39;, &#39;.tsx&#39;, &#39;.json&#39;]</code></p><p>List of file extensions to try for imports that omit extensions. Note it is <strong>NOT</strong> recommended to omit extensions for custom import types (e.g. <code>.vue</code>) since it can interfere with IDE and type support.</p></li></ul><h3 id="css-modules"><a class="header-anchor" href="#css-modules" aria-hidden="true">#</a>css.modules</h3><ul><li><p><strong>Type:</strong></p><div class="language-ts"><pre><code><span class="token keyword">interface</span> <span class="token class-name">CSSModulesOptions</span> <span class="token punctuation">{</span>\n  scopeBehaviour<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&#39;global&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;local&#39;</span>\n  globalModulePaths<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span>\n  generateScopedName<span class="token operator">?</span><span class="token operator">:</span>\n    <span class="token operator">|</span> <span class="token builtin">string</span>\n    <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> filename<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> css<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">)</span>\n  hashPrefix<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>\n  <span class="token comment">/**\n   * default: &#39;camelCaseOnly&#39;\n   */</span>\n  localsConvention<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&#39;camelCase&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;camelCaseOnly&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;dashes&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;dashesOnly&#39;</span>\n<span class="token punctuation">}</span>\n</code></pre></div><p>Configure CSS modules behavior. The options are passed on to <a href="https://github.com/css-modules/postcss-modules" target="_blank" rel="noopener noreferrer">postcss-modules</a>.</p></li></ul><h3 id="css-postcss"><a class="header-anchor" href="#css-postcss" aria-hidden="true">#</a>css.postcss</h3><ul><li><p><strong>Type:</strong> <code>string | (postcss.ProcessOptions &amp; { plugins?: postcss.Plugin[] })</code></p><p>Inline PostCSS config (expects the same format as <code>postcss.config.js</code>), or a custom path to search PostCSS config from (default is project root). The search is done using <a href="https://github.com/postcss/postcss-load-config" target="_blank" rel="noopener noreferrer">postcss-load-config</a>.</p><p>Note if an inline config is provided, Vite will not search for other PostCSS config sources.</p></li></ul><h3 id="css-preprocessoroptions"><a class="header-anchor" href="#css-preprocessoroptions" aria-hidden="true">#</a>css.preprocessorOptions</h3><ul><li><p><strong>Type:</strong> <code>Record&lt;string, object&gt;</code></p><p>Specify options to pass to CSS pre-processors. Example:</p><div class="language-js"><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n  css<span class="token operator">:</span> <span class="token punctuation">{</span>\n    preprocessorOptions<span class="token operator">:</span> <span class="token punctuation">{</span>\n      scss<span class="token operator">:</span> <span class="token punctuation">{</span>\n        additionalData<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">$injectedColor: orange;</span><span class="token template-punctuation string">`</span></span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre></div></li></ul><h3 id="json-namedexports"><a class="header-anchor" href="#json-namedexports" aria-hidden="true">#</a>json.namedExports</h3><ul><li><p><strong>Type:</strong> <code>boolean</code></p></li><li><p><strong>Default:</strong> <code>true</code></p><p>Whether to support named imports from <code>.json</code> files.</p></li></ul><h3 id="json-stringify"><a class="header-anchor" href="#json-stringify" aria-hidden="true">#</a>json.stringify</h3><ul><li><p><strong>Type:</strong> <code>boolean</code></p></li><li><p><strong>Default:</strong> <code>false</code></p><p>If set to <code>true</code>, imported JSON will be transformed into <code>export default JSON.parse(&quot;...&quot;)</code> which is significantly more performant than Object literals, especially when the JSON file is large.</p><p>Enabling this disables named imports.</p></li></ul><h3 id="esbuild"><a class="header-anchor" href="#esbuild" aria-hidden="true">#</a>esbuild</h3><ul><li><p><strong>Type:</strong> <code>ESBuildOptions | false</code></p><p><code>ESBuildOptions</code> extends <a href="https://esbuild.github.io/api/#transform-api" target="_blank" rel="noopener noreferrer">ESbuild&#39;s own transform options</a>. The most common use case is customizing JSX:</p><div class="language-js"><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n  esbuild<span class="token operator">:</span> <span class="token punctuation">{</span>\n    jsxFactory<span class="token operator">:</span> <span class="token string">&#39;h&#39;</span><span class="token punctuation">,</span>\n    jsxFragment<span class="token operator">:</span> <span class="token string">&#39;Fragment&#39;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre></div><p>By default, ESBuild is applied to <code>ts</code>, <code>jsx</code> and <code>tsx</code> files. You can customize this with <code>esbuild.include</code> and <code>esbuild.exclude</code>, both of which expects type of <code>string | RegExp | (string | RegExp)[]</code>.</p><p>In addition, you can also use <code>esbuild.jsxInject</code> to automatically inject JSX helper imports for every file transformed by ESBuild:</p><div class="language-js"><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n  esbuild<span class="token operator">:</span> <span class="token punctuation">{</span>\n    jsxInject<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">import React from &#39;react&#39;</span><span class="token template-punctuation string">`</span></span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre></div><p>Set to <code>false</code> to disable ESbuild transforms.</p></li></ul><h3 id="assetsinclude"><a class="header-anchor" href="#assetsinclude" aria-hidden="true">#</a>assetsInclude</h3><ul><li><p><strong>Type:</strong> <code>string | RegExp | (string | RegExp)[]</code></p></li><li><p><strong>Related:</strong> <a href="/guide/assets.html">Static Asset Handling</a></p><p>Specify additional file types to be treated as static assets so that:</p><ul><li><p>They will be excluded from the plugin transform pipeline when referenced from HTML or directly requested over <code>fetch</code> or XHR.</p></li><li><p>Importing them from JS will return their resolved URL string (this can be overwritten if you have a <code>enforce: &#39;pre&#39;</code> plugin to handle the asset type differently).</p></li></ul><p>The built-in asset type list can be found <a href="https://github.com/vitejs/vite/blob/main/packages/vite/src/node/constants.ts" target="_blank" rel="noopener noreferrer">here</a>.</p></li></ul><h3 id="loglevel"><a class="header-anchor" href="#loglevel" aria-hidden="true">#</a>logLevel</h3><ul><li><p><strong>Type:</strong> <code>&#39;info&#39; | &#39;warn&#39; | &#39;error&#39; | &#39;silent&#39;</code></p><p>Adjust console output verbosity. Default is <code>&#39;info&#39;</code>.</p></li></ul><h3 id="clearscreen"><a class="header-anchor" href="#clearscreen" aria-hidden="true">#</a>clearScreen</h3><ul><li><p><strong>Type:</strong> <code>boolean</code></p></li><li><p><strong>Default:</strong> <code>true</code></p><p>Set to <code>false</code> to prevent Vite from clearing the terminal screen when logging certain messages. Via command line, use <code>--clearScreen false</code>.</p></li></ul><h3 id="envdir"><a class="header-anchor" href="#envdir" aria-hidden="true">#</a>envDir</h3><ul><li><p><strong>Type:</strong> <code>string</code></p></li><li><p><strong>Default:</strong> <code>root</code></p><p>The directory from which <code>.env</code> files are loaded. Can be an absolute path, or a path relative to the project root.</p><p>See <a href="/guide/env-and-mode.html#env-files">here</a> for more about environment files.</p></li></ul><h2 id="server-options"><a class="header-anchor" href="#server-options" aria-hidden="true">#</a>Server Options</h2><h3 id="server-host"><a class="header-anchor" href="#server-host" aria-hidden="true">#</a>server.host</h3><ul><li><p><strong>Type:</strong> <code>string</code></p></li><li><p><strong>Default:</strong> <code>&#39;127.0.0.1&#39;</code></p><p>Specify which IP addresses the server should listen on. Set this to <code>0.0.0.0</code> to listen on all addresses, including LAN and public addresses.</p><p>This can be set via the CLI using <code>--host 0.0.0.0</code> or <code>--host</code>.</p></li></ul><h3 id="server-port"><a class="header-anchor" href="#server-port" aria-hidden="true">#</a>server.port</h3><ul><li><p><strong>Type:</strong> <code>number</code></p><p>Specify server port. Note if the port is already being used, Vite will automatically try the next available port so this may not be the actual port the server ends up listening on.</p></li></ul><h3 id="server-strictport"><a class="header-anchor" href="#server-strictport" aria-hidden="true">#</a>server.strictPort</h3><ul><li><p><strong>Type:</strong> <code>boolean</code></p><p>Set to <code>true</code> to exit if port is already in use, instead of automatically try the next available port.</p></li></ul><h3 id="server-https"><a class="header-anchor" href="#server-https" aria-hidden="true">#</a>server.https</h3><ul><li><p><strong>Type:</strong> <code>boolean | https.ServerOptions</code></p><p>Enable TLS + HTTP/2. Note this downgrades to TLS only when the <a href="#server-proxy"><code>server.proxy</code> option</a> is also used.</p><p>The value can also be an <a href="https://nodejs.org/api/https.html#https_https_createserver_options_requestlistener" target="_blank" rel="noopener noreferrer">options object</a> passed to <code>https.createServer()</code>.</p></li></ul><h3 id="server-open"><a class="header-anchor" href="#server-open" aria-hidden="true">#</a>server.open</h3><ul><li><p><strong>Type:</strong> <code>boolean | string</code></p><p>Automatically open the app in the browser on server start. When the value is a string, it will be used as the URL&#39;s pathname. If you want to open the server in a specific browser you like, you can set the env <code>process.<wbr>env.BROWSER</code> (e.g. <code>firefox</code>). See <a href="https://github.com/sindresorhus/open#app" target="_blank" rel="noopener noreferrer">the <code>open</code> package</a> for more details.</p><p><strong>Example:</strong></p><div class="language-js"><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n  server<span class="token operator">:</span> <span class="token punctuation">{</span>\n    open<span class="token operator">:</span> <span class="token string">&#39;/docs/index.html&#39;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre></div></li></ul><h3 id="server-proxy"><a class="header-anchor" href="#server-proxy" aria-hidden="true">#</a>server.proxy</h3><ul><li><p><strong>Type:</strong> <code>Record&lt;string, string | ProxyOptions&gt;</code></p><p>Configure custom proxy rules for the dev server. Expects an object of <code>{ key: options }</code> pairs. If the key starts with <code>^</code>, it will be interpreted as a <code>RegExp</code>. The <code>configure</code> option can be used to access the proxy instance.</p><p>Uses <a href="https://github.com/http-party/node-http-proxy" target="_blank" rel="noopener noreferrer"><code>http-proxy</code></a>. Full options <a href="https://github.com/http-party/node-http-proxy#options" target="_blank" rel="noopener noreferrer">here</a>.</p><p><strong>Example:</strong></p><div class="language-js"><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n  server<span class="token operator">:</span> <span class="token punctuation">{</span>\n    proxy<span class="token operator">:</span> <span class="token punctuation">{</span>\n      <span class="token comment">// string shorthand</span>\n      <span class="token string">&#39;/foo&#39;</span><span class="token operator">:</span> <span class="token string">&#39;http://localhost:4567/foo&#39;</span><span class="token punctuation">,</span>\n      <span class="token comment">// with options</span>\n      <span class="token string">&#39;/api&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        target<span class="token operator">:</span> <span class="token string">&#39;http://jsonplaceholder.typicode.com&#39;</span><span class="token punctuation">,</span>\n        changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n        <span class="token function-variable function">rewrite</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> path<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\\/api</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token comment">// with RegEx</span>\n      <span class="token string">&#39;^/fallback/.*&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        target<span class="token operator">:</span> <span class="token string">&#39;http://jsonplaceholder.typicode.com&#39;</span><span class="token punctuation">,</span>\n        changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n        <span class="token function-variable function">rewrite</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> path<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\\/fallback</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token comment">// Using the proxy instance</span>\n      <span class="token string">&#39;/api&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        target<span class="token operator">:</span> <span class="token string">&#39;http://jsonplaceholder.typicode.com&#39;</span><span class="token punctuation">,</span>\n        changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n        <span class="token function-variable function">configure</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">proxy<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n          <span class="token comment">// proxy will be an instance of &#39;http-proxy&#39;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre></div></li></ul><h3 id="server-cors"><a class="header-anchor" href="#server-cors" aria-hidden="true">#</a>server.cors</h3><ul><li><p><strong>Type:</strong> <code>boolean | CorsOptions</code></p><p>Configure CORS for the dev server. This is enabled by default and allows any origin. Pass an <a href="https://github.com/expressjs/cors" target="_blank" rel="noopener noreferrer">options object</a> to fine tune the behavior or <code>false</code> to disable.</p></li></ul><h3 id="server-force"><a class="header-anchor" href="#server-force" aria-hidden="true">#</a>server.force</h3><ul><li><p><strong>Type:</strong> <code>boolean</code></p></li><li><p><strong>Related:</strong> <a href="/guide/dep-pre-bundling.html">Dependency Pre-Bundling</a></p><p>Set to <code>true</code> to force dependency pre-bundling.</p></li></ul><h3 id="server-hmr"><a class="header-anchor" href="#server-hmr" aria-hidden="true">#</a>server.hmr</h3><ul><li><p><strong>Type:</strong> <code>boolean | { protocol?: string, host?: string, port?: number, path?: string, timeout?: number, overlay?: boolean, clientPort?: number, server?: Server }</code></p><p>Disable or configure HMR connection (in cases where the HMR websocket must use a different address from the http server).</p><p>Set <code>server.hmr.overlay</code> to <code>false</code> to disable the server error overlay.</p><p><code>clientPort</code> is an advanced option that overrides the port only on the client side, allowing you to serve the websocket on a different port than the client code looks for it on. Useful if you&#39;re using an SSL proxy in front of your dev server.</p><p>When using <code>server.middlewareMode</code> and <code>server.https</code>, setting <code>server.hmr.server</code> to your HTTPS server will process HMR secure connection requests through your server. This can be helpful when using self-signed certificates.</p></li></ul><h3 id="server-watch"><a class="header-anchor" href="#server-watch" aria-hidden="true">#</a>server.watch</h3><ul><li><p><strong>Type:</strong> <code>object</code></p><p>File system watcher options to pass on to <a href="https://github.com/paulmillr/chokidar#api" target="_blank" rel="noopener noreferrer">chokidar</a>.</p></li></ul><h3 id="server-middlewaremode"><a class="header-anchor" href="#server-middlewaremode" aria-hidden="true">#</a>server.middlewareMode</h3><ul><li><p><strong>Type:</strong> <code>&#39;ssr&#39; | &#39;html&#39;</code></p><p>Create Vite server in middleware mode. (without a HTTP server)</p><ul><li><code>&#39;ssr&#39;</code> will disable Vite&#39;s own HTML serving logic so that you should serve <code>index.html</code> manually.</li><li><code>&#39;html&#39;</code> will enable Vite&#39;s own HTML serving logic.</li></ul></li><li><p><strong>Related:</strong> <a href="/guide/ssr.html#setting-up-the-dev-server">SSR - Setting Up the Dev Server</a></p></li><li><p><strong>Example:</strong></p></li></ul><div class="language-js"><pre><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;express&#39;</span><span class="token punctuation">)</span>\n<span class="token keyword">const</span> <span class="token punctuation">{</span> createServer<span class="token operator">:</span> createViteServer <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;vite&#39;</span><span class="token punctuation">)</span>\n\n<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n\n  <span class="token comment">// Create vite server in middleware mode.</span>\n  <span class="token keyword">const</span> vite <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">createViteServer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    server<span class="token operator">:</span> <span class="token punctuation">{</span> middlewareMode<span class="token operator">:</span> <span class="token string">&#39;ssr&#39;</span> <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n  <span class="token comment">// Use vite&#39;s connect instance as middleware</span>\n  app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>vite<span class="token punctuation">.</span>middlewares<span class="token punctuation">)</span>\n\n  app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&#39;*&#39;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n    <span class="token comment">// If `middlewareMode` is `&#39;ssr&#39;`, should serve `index.html` here.</span>\n    <span class="token comment">// If `middlewareMode` is `&#39;html&#39;`, there is no need to serve `index.html`</span>\n    <span class="token comment">// because Vite will do that.</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n<span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n</code></pre></div><h3 id="server-fs-strict"><a class="header-anchor" href="#server-fs-strict" aria-hidden="true">#</a>server.fs.strict</h3><ul><li><p><strong>Experimental</strong></p></li><li><p><strong>Type:</strong> <code>boolean</code></p></li><li><p><strong>Default:</strong> <code>false</code> (will change to <code>true</code> in future versions)</p><p>Restrict serving files outside of workspace root.</p></li></ul><h3 id="server-fs-allow"><a class="header-anchor" href="#server-fs-allow" aria-hidden="true">#</a>server.fs.allow</h3><ul><li><p><strong>Experimental</strong></p></li><li><p><strong>Type:</strong> <code>string[]</code></p><p>Restrict files that could be served via <code>/@fs/</code>. When <code>server.fs.strict</code> is set to <code>true</code>, accessing files outside this directory list will result in a 403.</p><p>Vite will search for the root of the potential workspace and use it as default. A valid workspace met the following conditions, otherwise will fallback to the <a href="/guide/#index-html-and-project-root">project root</a>.</p><ul><li>contains <code>workspaces</code> field in <code>package.json</code></li><li>contains one of the following file <ul><li><code>pnpm-workspace.yaml</code></li></ul></li></ul><p>Accepts a path to specify the custom workspace root. Could be a absolute path or a path relative to <a href="/guide/#index-html-and-project-root">project root</a>. For example</p><div class="language-js"><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n  server<span class="token operator">:</span> <span class="token punctuation">{</span>\n    fs<span class="token operator">:</span> <span class="token punctuation">{</span>\n      <span class="token comment">// Allow serving files from one level up to the project root</span>\n      allow<span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token string">&#39;..&#39;</span>\n      <span class="token punctuation">]</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre></div></li></ul><h2 id="build-options"><a class="header-anchor" href="#build-options" aria-hidden="true">#</a>Build Options</h2><h3 id="build-target"><a class="header-anchor" href="#build-target" aria-hidden="true">#</a>build.target</h3><ul><li><p><strong>Type:</strong> <code>string</code></p></li><li><p><strong>Default:</strong> <code>&#39;modules&#39;</code></p></li><li><p><strong>Related:</strong> <a href="/guide/build.html#browser-compatibility">Browser Compatibility</a></p><p>Browser compatibility target for the final bundle. The default value is a Vite special value, <code>&#39;modules&#39;</code>, which targets <a href="https://caniuse.com/es6-module" target="_blank" rel="noopener noreferrer">browsers with native ES module support</a>.</p><p>Another special value is <code>&#39;esnext&#39;</code> - which assumes native dynamic imports support and will transpile as little as possible:</p><ul><li>If the <a href="#build-minify"><code>build.minify</code></a> option is <code>&#39;terser&#39;</code> (the default), <code>&#39;esnext&#39;</code> will be forced down to <code>&#39;es2019&#39;</code>.</li><li>In other cases, it will perform no transpilation at all.</li></ul><p>The transform is performed with esbuild and the value should be a valid <a href="https://esbuild.github.io/api/#target" target="_blank" rel="noopener noreferrer">esbuild target option</a>. Custom targets can either be a ES version (e.g. <code>es2015</code>), a browser with version (e.g. <code>chrome58</code>), or an array of multiple target strings.</p><p>Note the build will fail if the code contains features that cannot be safely transpiled by esbuild. See <a href="https://esbuild.github.io/content-types/#javascript" target="_blank" rel="noopener noreferrer">esbuild docs</a> for more details.</p></li></ul><h3 id="build-polyfilldynamicimport"><a class="header-anchor" href="#build-polyfilldynamicimport" aria-hidden="true">#</a>build.polyfillDynamicImport</h3><ul><li><p><strong>Type:</strong> <code>boolean</code></p></li><li><p><strong>Default:</strong> <code>false</code></p><p>Whether to automatically inject <a href="https://github.com/GoogleChromeLabs/dynamic-import-polyfill" target="_blank" rel="noopener noreferrer">dynamic import polyfill</a>.</p><p>If set to true, the polyfill is auto injected into the proxy module of each <code>index.html</code> entry. If the build is configured to use a non-html custom entry via <code>build.rollupOptions.input</code>, then it is necessary to manually import the polyfill in your custom entry:</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token string">&#39;vite/dynamic-import-polyfill&#39;</span>\n</code></pre></div><p>When using <a href="https://github.com/vitejs/vite/tree/main/packages/plugin-legacy" target="_blank" rel="noopener noreferrer"><code>@vitejs/plugin-legacy</code></a>, the plugin sets this option to <code>true</code> automatically.</p><p>Note: the polyfill does <strong>not</strong> apply to <a href="/guide/build.html#library-mode">Library Mode</a>. If you need to support browsers without native dynamic import, you should probably avoid using it in your library.</p></li></ul><h3 id="build-outdir"><a class="header-anchor" href="#build-outdir" aria-hidden="true">#</a>build.outDir</h3><ul><li><p><strong>Type:</strong> <code>string</code></p></li><li><p><strong>Default:</strong> <code>dist</code></p><p>Specify the output directory (relative to <a href="/guide/#index-html-and-project-root">project root</a>).</p></li></ul><h3 id="build-assetsdir"><a class="header-anchor" href="#build-assetsdir" aria-hidden="true">#</a>build.assetsDir</h3><ul><li><p><strong>Type:</strong> <code>string</code></p></li><li><p><strong>Default:</strong> <code>assets</code></p><p>Specify the directory to nest generated assets under (relative to <code>build.outDir</code>).</p></li></ul><h3 id="build-assetsinlinelimit"><a class="header-anchor" href="#build-assetsinlinelimit" aria-hidden="true">#</a>build.assetsInlineLimit</h3><ul><li><p><strong>Type:</strong> <code>number</code></p></li><li><p><strong>Default:</strong> <code>4096</code> (4kb)</p><p>Imported or referenced assets that are smaller than this threshold will be inlined as base64 URLs to avoid extra http requests. Set to <code>0</code> to disable inlining altogether.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>If you specify <code>build.lib</code>, <code>build.assetsInlineLimit</code> will be ignored and assets will always be inlined, regardless of file size.</p></div></li></ul><h3 id="build-csscodesplit"><a class="header-anchor" href="#build-csscodesplit" aria-hidden="true">#</a>build.cssCodeSplit</h3><ul><li><p><strong>Type:</strong> <code>boolean</code></p></li><li><p><strong>Default:</strong> <code>true</code></p><p>Enable/disable CSS code splitting. When enabled, CSS imported in async chunks will be inlined into the async chunk itself and inserted when the chunk is loaded.</p><p>If disabled, all CSS in the entire project will be extracted into a single CSS file.</p></li></ul><h3 id="build-sourcemap"><a class="header-anchor" href="#build-sourcemap" aria-hidden="true">#</a>build.sourcemap</h3><ul><li><p><strong>Type:</strong> <code>boolean | &#39;inline&#39; | &#39;hidden&#39;</code></p></li><li><p><strong>Default:</strong> <code>false</code></p><p>Generate production source maps.</p></li></ul><h3 id="build-rollupoptions"><a class="header-anchor" href="#build-rollupoptions" aria-hidden="true">#</a>build.rollupOptions</h3><ul><li><p><strong>Type:</strong> <a href="https://rollupjs.org/guide/en/#big-list-of-options" target="_blank" rel="noopener noreferrer"><code>RollupOptions</code></a></p><p>Directly customize the underlying Rollup bundle. This is the same as options that can be exported from a Rollup config file and will be merged with Vite&#39;s internal Rollup options. See <a href="https://rollupjs.org/guide/en/#big-list-of-options" target="_blank" rel="noopener noreferrer">Rollup options docs</a> for more details.</p></li></ul><h3 id="build-commonjsoptions"><a class="header-anchor" href="#build-commonjsoptions" aria-hidden="true">#</a>build.commonjsOptions</h3><ul><li><p><strong>Type:</strong> <a href="https://github.com/rollup/plugins/tree/master/packages/commonjs#options" target="_blank" rel="noopener noreferrer"><code>RollupCommonJSOptions</code></a></p><p>Options to pass on to <a href="https://github.com/rollup/plugins/tree/master/packages/commonjs" target="_blank" rel="noopener noreferrer">@rollup/plugin-commonjs</a>.</p></li></ul><h3 id="build-dynamicimportvarsoptions"><a class="header-anchor" href="#build-dynamicimportvarsoptions" aria-hidden="true">#</a>build.dynamicImportVarsOptions</h3><ul><li><p><strong>Type:</strong> <a href="https://github.com/rollup/plugins/tree/master/packages/dynamic-import-vars#options" target="_blank" rel="noopener noreferrer"><code>RollupDynamicImportVarsOptions</code></a></p><p>Options to pass on to <a href="https://github.com/rollup/plugins/tree/master/packages/dynamic-import-vars" target="_blank" rel="noopener noreferrer">@rollup/plugin-dynamic-import-vars</a>.</p></li></ul><h3 id="build-lib"><a class="header-anchor" href="#build-lib" aria-hidden="true">#</a>build.lib</h3><ul><li><p><strong>Type:</strong> <code>{ entry: string, name?: string, formats?: (&#39;es&#39; | &#39;cjs&#39; | &#39;umd&#39; | &#39;iife&#39;)[], fileName?: string }</code></p></li><li><p><strong>Related:</strong> <a href="/guide/build.html#library-mode">Library Mode</a></p><p>Build as a library. <code>entry</code> is required since the library cannot use HTML as entry. <code>name</code> is the exposed global variable and is required when <code>formats</code> includes <code>&#39;umd&#39;</code> or <code>&#39;iife&#39;</code>. Default <code>formats</code> are <code>[&#39;es&#39;, &#39;umd&#39;]</code>. <code>fileName</code> is the name of the package file output, default <code>fileName</code> is the name option of package.json</p></li></ul><h3 id="build-manifest"><a class="header-anchor" href="#build-manifest" aria-hidden="true">#</a>build.manifest</h3><ul><li><p><strong>Type:</strong> <code>boolean</code></p></li><li><p><strong>Default:</strong> <code>false</code></p></li><li><p><strong>Related:</strong> <a href="/guide/backend-integration.html">Backend Integration</a></p><p>When set to <code>true</code>, the build will also generate a <code>manifest.json</code> file that contains mapping of non-hashed asset filenames to their hashed versions, which can then be used by a server framework to render the correct asset links.</p></li></ul><h3 id="build-minify"><a class="header-anchor" href="#build-minify" aria-hidden="true">#</a>build.minify</h3><ul><li><p><strong>Type:</strong> <code>boolean | &#39;terser&#39; | &#39;esbuild&#39;</code></p></li><li><p><strong>Default:</strong> <code>&#39;terser&#39;</code></p><p>Set to <code>false</code> to disable minification, or specify the minifier to use. The default is <a href="https://github.com/terser/terser" target="_blank" rel="noopener noreferrer">Terser</a> which is slower but produces smaller bundles in most cases. Esbuild minification is significantly faster, but will result in slightly larger bundles.</p></li></ul><h3 id="build-terseroptions"><a class="header-anchor" href="#build-terseroptions" aria-hidden="true">#</a>build.terserOptions</h3><ul><li><p><strong>Type:</strong> <code>TerserOptions</code></p><p>Additional <a href="https://terser.org/docs/api-reference#minify-options" target="_blank" rel="noopener noreferrer">minify options</a> to pass on to Terser.</p></li></ul><h3 id="build-cleancssoptions"><a class="header-anchor" href="#build-cleancssoptions" aria-hidden="true">#</a>build.cleanCssOptions</h3><ul><li><p><strong>Type:</strong> <code>CleanCSS.Options</code></p><p>Constructor options to pass on to <a href="https://github.com/jakubpawlowicz/clean-css#constructor-options" target="_blank" rel="noopener noreferrer">clean-css</a>.</p></li></ul><h3 id="build-write"><a class="header-anchor" href="#build-write" aria-hidden="true">#</a>build.write</h3><ul><li><p><strong>Type:</strong> <code>boolean</code></p></li><li><p><strong>Default:</strong> <code>true</code></p><p>Set to <code>false</code> to disable writing the bundle to disk. This is mostly used in <a href="/guide/api-javascript.html#build">programmatic <code>build()</code> calls</a> where further post processing of the bundle is needed before writing to disk.</p></li></ul><h3 id="build-emptyoutdir"><a class="header-anchor" href="#build-emptyoutdir" aria-hidden="true">#</a>build.emptyOutDir</h3><ul><li><p><strong>Type:</strong> <code>boolean</code></p></li><li><p><strong>Default:</strong> <code>true</code> if <code>outDir</code> is inside <code>root</code></p><p>By default, Vite will empty the <code>outDir</code> on build if it is inside project root. It will emit a warning if <code>outDir</code> is outside of root to avoid accidentially removing important files. You can explicitly set this option to suppress the warning. This is also available via command line as <code>--emptyOutDir</code>.</p></li></ul><h3 id="build-brotlisize"><a class="header-anchor" href="#build-brotlisize" aria-hidden="true">#</a>build.brotliSize</h3><ul><li><p><strong>Type:</strong> <code>boolean</code></p></li><li><p><strong>Default:</strong> <code>true</code></p><p>Enable/disable brotli-compressed size reporting. Compressing large output files can be slow, so disabling this may increase build performance for large projects.</p></li></ul><h3 id="build-chunksizewarninglimit"><a class="header-anchor" href="#build-chunksizewarninglimit" aria-hidden="true">#</a>build.chunkSizeWarningLimit</h3><ul><li><p><strong>Type:</strong> <code>number</code></p></li><li><p><strong>Default:</strong> <code>500</code></p><p>Limit for chunk size warnings (in kbs).</p></li></ul><h3 id="build-watch"><a class="header-anchor" href="#build-watch" aria-hidden="true">#</a>build.watch</h3><ul><li><p><strong>Type:</strong> <a href="https://rollupjs.org/guide/en/#watch-options" target="_blank" rel="noopener noreferrer"><code>WatcherOptions</code></a><code>| null</code></p></li><li><p><strong>Default:</strong> <code>null</code></p><p>Set to <code>{}</code> to enable rollup watcher. This is mostly used in cases that involve build-only plugins or integrations processes.</p></li></ul><h2 id="dep-optimization-options"><a class="header-anchor" href="#dep-optimization-options" aria-hidden="true">#</a>Dep Optimization Options</h2><ul><li><strong>Related:</strong> <a href="/guide/dep-pre-bundling.html">Dependency Pre-Bundling</a></li></ul><h3 id="optimizedeps-entries"><a class="header-anchor" href="#optimizedeps-entries" aria-hidden="true">#</a>optimizeDeps.entries</h3><ul><li><p><strong>Type:</strong> <code>string | string[]</code></p><p>By default, Vite will crawl your index.html to detect dependencies that need to be pre-bundled. If build.rollupOptions.input is specified, Vite will crawl those entry points instead.</p><p>If neither of these fit your needs, you can specify custom entries using this option - the value should be a <a href="https://github.com/mrmlnc/fast-glob#basic-syntax" target="_blank" rel="noopener noreferrer">fast-glob pattern</a> or array of patterns that are relative from vite project root. This will overwrite default entries inference.</p></li></ul><h3 id="optimizedeps-exclude"><a class="header-anchor" href="#optimizedeps-exclude" aria-hidden="true">#</a>optimizeDeps.exclude</h3><ul><li><p><strong>Type:</strong> <code>string[]</code></p><p>Dependencies to exclude from pre-bundling.</p><div class="warning custom-block"><p class="custom-block-title">CommonJS</p><p>CommonJS dependencies should not be excluded from optimization. If an ESM dependency has a nested CommonJS dependency, it should not be excluded as well.</p></div></li></ul><h3 id="optimizedeps-include"><a class="header-anchor" href="#optimizedeps-include" aria-hidden="true">#</a>optimizeDeps.include</h3><ul><li><p><strong>Type:</strong> <code>string[]</code></p><p>By default, linked packages not inside <code>node_modules</code> are not pre-bundled. Use this option to force a linked package to be pre-bundled.</p></li></ul><h3 id="optimizedeps-keepnames"><a class="header-anchor" href="#optimizedeps-keepnames" aria-hidden="true">#</a>optimizeDeps.keepNames</h3><ul><li><p><strong>Type:</strong> <code>boolean</code></p></li><li><p><strong>Default:</strong> <code>false</code></p><p>The bundler sometimes needs to rename symbols to avoid collisions. Set this to <code>true</code> to keep the <code>name</code> property on functions and classes. See <a href="https://esbuild.github.io/api/#keep-names" target="_blank" rel="noopener noreferrer"><code>keepNames</code></a>.</p></li></ul><h2 id="ssr-options"><a class="header-anchor" href="#ssr-options" aria-hidden="true">#</a>SSR Options</h2><div class="warning custom-block"><p class="custom-block-title">Experimental</p><p>SSR options may be adjusted in minor releases.</p></div><ul><li><strong>Related:</strong> <a href="/guide/ssr.html#ssr-externals">SSR Externals</a></li></ul><h3 id="ssr-external"><a class="header-anchor" href="#ssr-external" aria-hidden="true">#</a>ssr.external</h3><ul><li><p><strong>Type:</strong> <code>string[]</code></p><p>Force externalize dependencies for SSR.</p></li></ul><h3 id="ssr-noexternal"><a class="header-anchor" href="#ssr-noexternal" aria-hidden="true">#</a>ssr.noExternal</h3><ul><li><p><strong>Type:</strong> <code>string | RegExp | (string | RegExp)[]</code></p><p>Prevent listed dependencies from being externalized for SSR.</p></li></ul><h3 id="ssr-target"><a class="header-anchor" href="#ssr-target" aria-hidden="true">#</a>ssr.target</h3><ul><li><p><strong>Type:</strong> <code>&#39;node&#39; | &#39;webworker&#39;</code></p></li><li><p><strong>Default:</strong> <code>node</code></p><p>Build target for the SSR server.</p></li></ul>',154);a.render=function(n,o,a,i,r,l){return e(),s("div",null,[t])};export default a;export{o as __pageData};
